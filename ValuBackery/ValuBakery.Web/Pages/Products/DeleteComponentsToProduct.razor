@using ValuBakery.Data.DTOs;
@using ValuBakery.Data.Enums;

<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6">
            <MudIcon Icon="@Icons.Material.Rounded.RemoveCircleOutline" Class="mr-3 mb-n1" />
            Eliminar componentes
        </MudText>
    </TitleContent>
    <DialogContent>
        <MudTabs Elevation="0" ApplyEffectsToContainer="true" Centered="true">            
            <MudTabPanel Text="Recetas">
                <MudTable T="ProductRecipeVariantDto" Items="@RecipeDtos" SelectedItems=@SelectedRecipeDtos
                          SelectedItemsChanged="OnSelectedItemsChanged"
                          Hover="true" MultiSelection="@true" Height="400px" Elevation="0">
                    <HeaderContent>
                        <MudTh>Nombre</MudTh>
                    </HeaderContent>
                    <RowTemplate>
                        <MudTd DataLabel="Nombre">@context.RecipeVariant.GetName()</MudTd>
                    </RowTemplate>
                </MudTable>
            </MudTabPanel>
            <MudTabPanel Text="Materiales">
                <MudTable T="ProductMaterialDto" Items="@MaterialDtos" SelectedItems=@SelectedMaterialDtos
                          SelectedItemsChanged="OnSelectedItemsChanged"
                          Hover="true" MultiSelection="@true" Height="400px" Elevation="0">
                    <HeaderContent>
                        <MudTh>Nombre</MudTh>
                        <MudTh>Cantidad</MudTh>
                    </HeaderContent>
                    <RowTemplate>
                        <MudTd DataLabel="Nombre">@context.Material.Name</MudTd>
                        <MudTd DataLabel="Cantidad" Style="text-align:center">@context.Quantity</MudTd>
                    </RowTemplate>
                </MudTable>
            </MudTabPanel>
        </MudTabs>
    </DialogContent>
    <DialogActions>
        <MudButton Color="Color.Primary" OnClick="Submit">Eliminar</MudButton>
    </DialogActions>
</MudDialog>
@using ValuBakery.Web.Helpers;

<MudDialog Class="rounded-lg dialog-receta">
    <TitleContent>
        <MudText Typo="Typo.subtitle1" Class="fw-bold">
            Agregar materiales
        </MudText>
    </TitleContent>

    <DialogContent>
        <MudPaper Elevation="0" Style="max-height:300px; overflow-y:auto; overflow-x:hidden; width:100%; padding-right:1rem">

            @foreach (var material in MaterialDtos)
            {
                <MudStack Row="true" AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween">
                    <MudStack Row="true" AlignItems="AlignItems.Center" Justify="Justify.FlexStart">
                        <MudCheckBox Checked="@SelectedMaterialIds.Contains(material.Id)"
                                 CheckedChanged="@((bool value) => OnCheckedChanged(value, material.Id))"
                                 Style="width:30px;" />

                        <MudTooltip Text="@material.Name">
                            <MudText Typo="Typo.caption" Class="fw-bold">
                                @(StringHelper.Truncate(material.Name, 20))
                            </MudText>
                        </MudTooltip>
                    </MudStack>

                    <MudStack Row="true" AlignItems="AlignItems.Center" Justify="Justify.FlexEnd">
                        <MudText Typo="Typo.caption">
                            $@material.CostPerUnit
                        </MudText>

                        <MudText Typo="Typo.caption">
                            @material.Unit
                        </MudText>
                    </MudStack>
                </MudStack>
            }
        </MudPaper>
    </DialogContent>

    <DialogActions>
        <MudButton Color="Color.Secondary" OnClick="Submit">Agregar</MudButton>
    </DialogActions>
</MudDialog>

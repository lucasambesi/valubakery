@using MudBlazor
@inject NavigationManager Nav

<MudPaper Elevation="6" Class="disp-card">
    <!-- Encabezado -->
    <MudStack Row="true" Justify="Justify.SpaceBetween" AlignItems="AlignItems.Center" Class="disp-head">
        <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="1">
            <MudText Typo="Typo.caption" Class="disp-title">Disponible</MudText>
            <MudChip Color="Color.Success" Variant="Variant.Outlined" Size="Size.Small"
                     StartIcon="@Icons.Material.Filled.ArrowUpward">@Variacion</MudChip>
        </MudStack>

        <MudButton Variant="Variant.Text" Color="Color.Inherit" Class="disp-link"
                   EndIcon="@Icons.Material.Filled.ChevronRight"
                   OnClick="@(()=>Nav.NavigateTo(MovimientosUrl))">
            IR A MOVIMIENTOS
        </MudButton>
    </MudStack>

    <!-- Monto -->
    <MudStack Row="true" Justify="Justify.SpaceBetween" AlignItems="AlignItems.Center" Class="disp-amount">
        <MudText Typo="Typo.h5" Class="disp-money">
            $ @((OcultarMonto ? "***" : Monto.ToString("N0")))
        </MudText>

        <MudIconButton Size="Size.Medium"
                       Icon="@(OcultarMonto ? Icons.Material.Filled.VisibilityOff : Icons.Material.Filled.Visibility)"
                       Color="Color.Default"
                       OnClick="@(()=> OcultarMonto = !OcultarMonto)" />
    </MudStack>

    <MudDivider Class="my-2" />

    <!-- Acciones -->
    <div class="disp-actions">
        <button class="disp-action" @onclick="OnIngresar">
            <span class="disp-circle"><MudIcon Icon="@Icons.Material.Filled.Download" /></span>
            <span class="disp-label">Ingresar</span>
        </button>

        <button class="disp-action" @onclick="OnTransferir">
            <span class="disp-circle"><MudIcon Icon="@Icons.Material.Filled.SwapHoriz" /></span>
            <span class="disp-label">Transferir</span>
        </button>

        <button class="disp-action" @onclick="OnSacar">
            <span class="disp-circle"><MudIcon Icon="@Icons.Material.Filled.Upload" /></span>
            <span class="disp-label">Sacar</span>
        </button>

        <button class="disp-action" @onclick="OnAlias">
            <span class="disp-circle"><MudIcon Icon="@Icons.Material.Filled.Badge" /></span>
            <span class="disp-label">Tus alias</span>
        </button>
    </div>
</MudPaper>

@code {
    [Parameter] public decimal Monto { get; set; } = 0m;
    [Parameter] public string Variacion { get; set; } = "▲ 27,5%";
    [Parameter] public string MovimientosUrl { get; set; } = "/movimientos";

    [Parameter] public EventCallback OnIngresar { get; set; }
    [Parameter] public EventCallback OnTransferir { get; set; }
    [Parameter] public EventCallback OnSacar { get; set; }
    [Parameter] public EventCallback OnAlias { get; set; }

    bool OcultarMonto { get; set; } = true;
}

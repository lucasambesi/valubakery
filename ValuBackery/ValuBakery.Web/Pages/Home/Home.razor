@page "/"
@using MudBlazor
@using ValuBakery.Web.Pages.Common

<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="dashboard-page">
    @if (isLoading)
    {
        <Overlay />
    }
    else
    {

        <!-- Estadísticas -->
        <MudGrid Justify="Justify.Center" Style="margin-top:2%">
            <!-- Título -->
            <MudItem xs="12" sm="12">
                <MudPaper Class="stat-card" Elevation="10" Style="padding:2%">
                    <MudText Typo="Typo.h4" Class="fancy-title mb-4" Align="Align.Center">
                        APP EN DESARROLLO TE AMO
                    </MudText>
                </MudPaper>
            </MudItem>

            <MudItem xs="12" sm="4">
                <MudPaper Class="stat-card" Elevation="10">
                    <MudStack Spacing="1" AlignItems="AlignItems.Center">
                        <MudIcon Icon="@Icons.Material.Filled.ReceiptLong" Color="Color.Primary" Size="Size.Large" />
                        <MudText Typo="Typo.subtitle1">Recetas</MudText>
                        <MudText Typo="Typo.h6">@TotalRecipes</MudText>
                    </MudStack>
                </MudPaper>
            </MudItem>

            <MudItem xs="12" sm="4">
                <MudPaper Class="stat-card" Elevation="10">
                    <MudStack Spacing="1" AlignItems="AlignItems.Center">
                        <MudIcon Icon="@Icons.Material.Filled.MenuBook" Color="Color.Primary" Size="Size.Large" />
                        <MudText Typo="Typo.subtitle1">Variantes</MudText>
                        <MudText Typo="Typo.h6">@TotalVariants</MudText>
                    </MudStack>
                </MudPaper>
            </MudItem>

            <MudItem xs="12" sm="4">
                <MudPaper Class="stat-card" Elevation="10">
                    <MudStack Spacing="1" AlignItems="AlignItems.Center">
                        <MudIcon Icon="@Icons.Material.Filled.LocalDining" Color="Color.Primary" Size="Size.Large" />
                        <MudText Typo="Typo.subtitle1">Ingredientes</MudText>
                        <MudText Typo="Typo.h6">@TotalIngredients</MudText>
                    </MudStack>
                </MudPaper>
            </MudItem>
        </MudGrid>

        <!-- Accesos rápidos -->
        <MudPaper Class="pa-4 mt-6 quick-actions"Elevation="10">
            <MudGrid AlignItems="AliAlignItemsgn.Center" Justify="Justify.Center">
                <MudItem xs="12" sm="4">
                    <MudButton Variant="Variant.Filled" Color="Color.Primary" StartIcon="@Icons.Material.Filled.Add" Disabled="true" FullWidth="true">
                        Nueva receta
                    </MudButton>
                </MudItem>
                <MudItem xs="12" sm="4">
                    <MudButton Variant="Variant.Filled" Color="Color.Primary" StartIcon="@Icons.Material.Filled.LocalDining" Disabled="true" FullWidth="true">
                        Catálogo
                    </MudButton>
                </MudItem>
                <MudItem xs="12" sm="4">
                    <MudButton Variant="Variant.Filled" Color="Color.Secondary" StartIcon="@Icons.Material.Filled.MenuBook" Disabled="true" FullWidth="true">
                        Ver ingredientes
                    </MudButton>
                </MudItem>
            </MudGrid>
        </MudPaper>

        <!-- Últimas recetas -->
        <MudPaper Class="mt-8 pa-4" Elevation="10">
            <MudText Typo="Typo.h6" Class="mb-2">Últimas recetas modificadas</MudText>

            <MudList Dense="true">
                @foreach (var receta in UltimasRecetas)
                {
                    <MudListItem Class="mb-3">
                        <MudStack>
                            <MudText Typo="Typo.body1">@receta.Name</MudText>
                            <MudText Typo="Typo.caption" Color="Color.Secondary">
                                Actualizado el @receta.UpdatedAt.ToShortDateString()
                            </MudText>
                        </MudStack>
                    </MudListItem>
                }
            </MudList>
        </MudPaper>
    }

</MudContainer>

@code {
    
}
